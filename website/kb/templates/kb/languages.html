{% extends 'kb/base.html' %}

{% load static %}

{% block extrahead %}

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>

 <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin=""></script>
      
<script type='text/javascript' src='//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js'></script>

<script src="https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.css" rel="stylesheet" />

<!-- Table Javascript & CSS -->
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css"/>
<script type="text/javascript" src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>

<script type="text/javascript">    
  $(document).ready( function () {
      $('#cults').DataTable({
        paging: false
      });
  } );
</script>
{% endblock %}



{% block content %}

<div id="map"></div>

<script type='text/javascript' src="{% static 'js/maps.js' %}"></script>
<script type="text/javascript">
      console.log(4 + 10);
      var coordinates = JSON.parse("{{latlong|escapejs}}");
      window.onload = function() {
        main(coordinates);
      };
</script>

<br> 

{{ethonyms}}

<table id="cults" class="display">
  <thead>
    <th>Name</th>
    <th>Glottocode</th>
    <th>Language Family</th>
    <th>Project</th>
  </thead>
  <tbody>
	{% for e in ethonyms %}
    <tr>
      <td><a class="culture-link" href="{{e.glottocode}}">{{e.culture}}</a></td>
      <td><a class="culture-link" href="{{e.glottocode}}">{{e.glottocode}}</a></td>
      <td>{{e.family}}</td>
      <td>{{e.project}}</td>
    </tr>
  {% endfor %}
  </tbody>
 </table>

{% endblock %}
